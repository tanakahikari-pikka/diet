---
description: 習慣チェックリスト回答
---

# 習慣チェックリスト回答

対話形式で今日のデータ入力とチェックリスト回答を行い、結果を記録します。

## 参照ファイル

- `checklist_master.md` - 項目マスター（必ず最初に読み込む）
- `goals.md` - 目標設定（カロリー・タンパク質目標の参照用）
- `data/checklist/` - 過去の回答データ（比較用）

## 手順

### 1. 今日のデータを入力

#### 1-1. 体重入力

AskUserQuestion で質問:
- 「今日の体重を入力してください（kg）」
- 選択肢例: 前回±2kgの範囲で4つ + Other
- スキップ可能（「測っていない」オプション）

→ `data/weight.csv` に追記

```csv
date,weight_kg,body_fat_percent,memo
2026-02-15,94.5,,
```

#### 1-2. カロリー・PFC入力

AskUserQuestion で質問:
- 「今日の摂取カロリーを入力してください」
- 選択肢例: 目標値±500の範囲で4つ + Other
- スキップ可能

続けてPFC:
- 「タンパク質（P）、脂質（F）、炭水化物（C）を入力してください」
- まとめて入力: 「P:80 F:60 C:200」形式
- またはタンパク質のみでもOK
- スキップ可能

→ `data/meals.csv` に追記（日合計として）

```csv
date,meal_type,description,calories,protein_g,fat_g,carb_g,memo
2026-02-15,daily_total,,2100,85,65,210,
```

### 2. チェックリストマスターを読み込む

`checklist_master.md` を読み込んで最新の項目を取得。

### 3. 過去データを確認（任意）

`data/checklist/` 内の最新ファイルがあれば読み込み、前回との比較に使用。

### 4. レベルごとに質問

各レベル（Lv1→Lv2→Lv3）ごとに AskUserQuestion で質問:
- multiSelect: true で複数選択可能に
- 「現在できている項目をすべて選んでください」形式
- 項目数が多い場合は分割して質問（4項目ずつ）

### 5. 結果を保存

#### CSV（1次データ）: `data/checklist/YYYY-MM-DD.csv`

```csv
item_id,item,level,category,score,achieved
1,1日3食食べている,Lv1,食事,2,1
2,毎食タンパク質を摂っている,Lv1,食事,3,0
...
```

| カラム | 説明 |
|--------|------|
| item_id | 項目ID |
| item | 項目名 |
| level | レベル（Lv1/Lv2/Lv3） |
| category | カテゴリ（食事/生活/運動） |
| score | 配点 |
| achieved | 達成（1=達成, 0=未達成） |

#### MD（分析）: `data/checklist/YYYY-MM-DD.md`

```markdown
# 日次レポート

**日付:** YYYY年M月D日

---

## 今日の記録

| 項目 | 値 | 目標 | 達成 |
|------|-----|------|:----:|
| 体重 | XX.X kg | 85 kg | - |
| カロリー | XXXX kcal | 2000 kcal | ○/× |
| タンパク質 | XX g | 95 g | ○/× |
| 脂質 | XX g | - | - |
| 炭水化物 | XX g | - | - |

---

## チェックリスト

**データ:** [YYYY-MM-DD.csv](./YYYY-MM-DD.csv)

| レベル | スコア | 達成率 |
|--------|--------|--------|
| Lv1（基礎習慣） | X / 19 | XX% |
| Lv2（成長習慣） | X / 19 | XX% |
| Lv3（理想習慣） | X / 26 | XX% |
| **合計** | **X / 64** | **XX%** |

---

## 診断

**現状:** （スコアに基づいた現状分析）

**強み:**
- （達成している項目から抽出）

**弱み:**
- （未達成の項目から抽出）

---

## ネクストアクション

### 今日のフォーカス

**「（1つに絞った最優先タスク）」**

- （なぜこれが重要か）
- （具体的な実行方法）

---

## 次回確認ポイント

- [ ] （確認項目1）
- [ ] （確認項目2）
```

### 6. 結果サマリーを表示

今日の記録とチェックリスト結果をユーザーに表示。

## 分析のポイント

### スコア基準（checklist_master.md参照）

| Lv1達成率 | 状態 |
|-----------|------|
| 50%未満 | まずLv1の基礎固めから |
| 50-79% | 基礎構築中。Lv1完璧を目指す |
| 80%以上 | Lv2に挑戦 |

### カロリー・PFCの評価

- **カロリー**: 目標±100kcal以内なら○
- **タンパク質**: 目標90%以上なら○
- **体重**: 前回比で増減をコメント

### ネクストアクションの優先順位

1. **Lv1の未達成項目**を最優先
2. **高配点（3点）の項目**を優先
3. **1つに絞る**

### 前回との比較（過去データがある場合）

- 体重の推移をコメント
- 改善した項目を称賛
- 後退した項目を警告

## 注意事項

- 体重・カロリー・PFCはスキップ可能（入力しなくてもチェックリストは実行できる）
- Lv1で達成できていない項目があれば、必ず優先課題として提示
- ネクストアクションは具体的な行動レベルで記載
- 1回のフォーカスは1項目に絞る
